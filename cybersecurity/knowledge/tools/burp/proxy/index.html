<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Burp Proxy allows us to intercept and modify requests/responses between ourselves and the target when interacting with web apps. These can then be manipulated or sent to other tools for further processing before being allowed to continue to their destination."><title>Burp Proxy</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://koscielniak.pro/icon.png><link href=https://koscielniak.pro/styles.9795826ea4fa61978dfd826a4365a859.min.css rel=stylesheet><link href=https://koscielniak.pro/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://koscielniak.pro/js/darkmode.65e02719d0d9967e13e7b6186bd55800.min.js></script>
<script src=https://koscielniak.pro/js/util.5e39932758f9ecaf45fd54506ed61416.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://koscielniak.pro/js/popover.6da9b273c092cc16fc1aa904d71a2163.min.js></script>
<script src=https://koscielniak.pro/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://koscielniak.pro/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://koscielniak.pro/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://koscielniak.pro",fetchData=Promise.all([fetch("https://koscielniak.pro/indices/linkIndex.399a5ca7ad5b5d79c56ca7bbba7ff6cb.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://koscielniak.pro/indices/contentIndex.b0608d05f85229a362c409bb5a3093e5.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://koscielniak.pro",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://koscielniak.pro",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'‚Äô':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/koscielniak.pro\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://koscielniak.pro/js/full-text-search.51f0b1753e9b30839d053f8a98cc20d1.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://koscielniak.pro>üçç koscielniak.pro</a></h1><div class=spacer></div><div id=search-icon><p>‚åò+K</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Burp Proxy</h1><p class=meta>Last updated
Unknown
<a href=https://github.com/kkoscielniak/the-garden/cybersecurity/knowledge/tools/burp/proxy.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#proxy-options>Proxy Options</a><ol><li><a href=#intercept-responses-based-on-the-following-rules>Intercept responses based on the following rules</a></li><li><a href=#match-and-replace>Match And Replace</a></li></ol></li><li><a href=#connecting-through-the-proxy>Connecting through the Proxy</a><ol><li><a href=#using-embedded-browser>using embedded browser</a></li><li><a href=#using-local-browser>using local browser</a></li></ol></li><li><a href=#intercepting-responses-to-particular-requests>Intercepting Responses to particular requests</a></li><li><a href=#proxying-https-traffic>Proxying HTTPS traffic</a></li><li><a href=#scoping>Scoping</a></li><li><a href=#site-mapping>Site Mapping</a></li><li><a href=#issue-definitions>Issue definitions</a></li></ol></nav></details></aside><p><em>Burp Proxy</em> allows us to intercept and modify requests/responses between
ourselves and the target when interacting with web apps. These can then be manipulated or sent to other tools for further processing before being allowed to continue to their destination.</p><p>We can also do various other things with the request, such as</p><ul><li>copying it as a cURL command</li><li>saving it to a file</li><li>etc.</li></ul><p>Burp will (by default) log requests made through the proxy, no matter if the intercept is on/off. Useful for going back and analysing prior requests, even if we didn&rsquo;t specifically capture them when they were made.</p><p>Burp will also log WebSocket communication, which can be helpful for web app analysis.</p><p>Requests can be sent to other modules through <em>HTTP/Websocket history</em> -> <em>Right-click</em> -> <em>Send to&mldr;</em></p><a href=#proxy-options><h2 id=proxy-options><span class=hanchor arialabel=Anchor># </span>Proxy Options</h2></a><a href=#intercept-responses-based-on-the-following-rules><h3 id=intercept-responses-based-on-the-following-rules><span class=hanchor arialabel=Anchor># </span>Intercept responses based on the following rules</h3></a><p>The proxy will not intercept server responses by default unless we explicitly ask it to on a per-request basis. We can override this by selecting the <em>Intercept responses based on the following rules</em>.</p><p>The <em>Or Request Was Intercepted</em> rule is good for catching responses to all requests that were intercepted by the proxy.</p><p>The <em>And URL Is in target scope</em> is another very good default rule; we will look at scoping later in this room.</p><p>We can also make our own rules.</p><a href=#match-and-replace><h3 id=match-and-replace><span class=hanchor arialabel=Anchor># </span>Match And Replace</h3></a><p><em>Match And Replace</em> section allows us to perform regexes on incoming and outgoing requests, eg. we can automatically change the user agent to emulate a different web browser in outgoing requests or remove all cookies being set in incoming requests.</p><p>We can also make our own rules.</p><a href=#connecting-through-the-proxy><h2 id=connecting-through-the-proxy><span class=hanchor arialabel=Anchor># </span>Connecting through the Proxy</h2></a><p>There are two ways to proxy our traffic through Burp Suite:</p><ul><li>using the embedded browser</li><li>using our local browser to proxy our traffic through Burp</li></ul><a href=#using-embedded-browser><h3 id=using-embedded-browser><span class=hanchor arialabel=Anchor># </span>using embedded browser</h3></a><p>Burp Suite comes with a built-in Chromium browser that&rsquo;s preconfigured to use Burp Proxy without any modifications. We can start it directly from Burp Proxy.</p><blockquote class=tip-callout><p>Burp Browser Error</p><p>We may need to <em>Allow the embedded browser to run without a sandbox</em> in <em>Project Options</em> -> <em>Misc</em> -> <em>Embedded Browser</em> if we run Burp as <code>root</code>. This, however, isn&rsquo;t recommended in enviroments other than VM for security reasons.</p></blockquote><a href=#using-local-browser><h3 id=using-local-browser><span class=hanchor arialabel=Anchor># </span>using local browser</h3></a><p>The Burp Proxy works by opening a web interface on <code>127.0.0.1:8080</code> (by default). We need to redirect all of our browser traffic through this port so we can start intercepting it.</p><p>We can do this by altering our browser settings (not recommended) or with a
<a href=https://chrome.google.com/webstore/detail/foxyproxy-basic/dookpfaalaaappcdneeahomimbllocnb rel=noopener>FoxyProxy Basic</a> extension.</p><p>We need to create Burp Proxy config in FoxyProxy and enable this proxy setting:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Title: Burp (or anything else)
</span></span><span class=line><span class=cl>Proxy IP: 127.0.0.1
</span></span><span class=line><span class=cl>Port: 8080
</span></span></code></pre></td></tr></table></div></div><p>From now on we can intercept requests made by our browser.</p><a href=#intercepting-responses-to-particular-requests><h2 id=intercepting-responses-to-particular-requests><span class=hanchor arialabel=Anchor># </span>Intercepting Responses to particular requests</h2></a><p><em>HTTP History</em> -> <em>Right-Click</em> -> <em>Do Intercept</em> -> <em>Response to this Request</em></p><a href=#proxying-https-traffic><h2 id=proxying-https-traffic><span class=hanchor arialabel=Anchor># </span>Proxying HTTPS traffic</h2></a><p>By default the Portswigger <a href=/cybersecurity/knowledge/glossary/CA rel=noopener class=internal-link data-src=/cybersecurity/knowledge/glossary/CA>CA</a> isn&rsquo;t authorised to secure the connection.</p><p>Fortunately, Burp provides a certificate as a workaround. We need to add it to a list of trusted <a href=/cybersecurity/knowledge/glossary/CA rel=noopener class=internal-link data-src=/cybersecurity/knowledge/glossary/CA>CA</a>s manually.</p><p>With the proxy activated we need to go to¬†
<a href=http://burp/cert rel=noopener>http://burp/cert</a>; this will download a file called¬†<code>cacert.der</code>. On macOS we need to install it to iCloud Keychain, set it to be always trusted and then restart the browser. This will enable us to proxy the HTTPS traffic.</p><a href=#scoping><h2 id=scoping><span class=hanchor arialabel=Anchor># </span>Scoping</h2></a><p>Setting a <em>scope</em> for the project allows us to define what gets proxied and logged.</p><p>We can restrict Burp Suite to¬†<em>only</em>¬†target the web app that we want to test.</p><p><em>Target</em> tab -> <em>Right Click</em> the target from the list -> <em>Add To Scope</em>.</p><p>We can check the scope by switching to the <em>Scope</em> sub-tab.</p><p>The Scope sub-tab allows us to control what we are targeting by either¬†<em>Including</em>¬†or¬†<em>Excluding</em>¬†domains / IPs.</p><p>To disable intercepting everything that&rsquo;s not in the scope, we need to go to Proxy Options sub-tab and select <em>And URL Is in target scope</em> from the Intercept Client Requests section.</p><a href=#site-mapping><h2 id=site-mapping><span class=hanchor arialabel=Anchor># </span>Site Mapping</h2></a><p><em>Site Map</em> option allows us to map out the targeted web app in a tree structure - every visited subpage will show up here, allowing us to automatically generate a site map for the target simply by browsing around the web app - useful for mapping out an API; whenever we visit a page, any API endpoints that the page retrieves data from will show up here</p><a href=#issue-definitions><h2 id=issue-definitions><span class=hanchor arialabel=Anchor># </span>Issue definitions</h2></a><p>Whilst we don&rsquo;t have access to the vulnerability scanner in Burp Suite Community, we do still have access to a list of all the vulnerabilities it looks for. The <em>Issue Definitions</em> section provides a huge list of web vulnerabilities (with descriptions and references) which we can draw from should we need citations for a report or help describing a vulnerability</p></article><hr><div class=directories><h3>index<span>_</span></h3><div class=items><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/proxy/ class=file data-src=/cybersecurity/knowledge/tools/burp/proxy/>Burp Proxy.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/comparer/ class=file data-src=/cybersecurity/knowledge/tools/burp/comparer/>Burp Comparer.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/decoder/ class=file data-src=/cybersecurity/knowledge/tools/burp/decoder/>Burp Decoder.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/extender/ class=file data-src=/cybersecurity/knowledge/tools/burp/extender/>Burp Extender.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/intruder/ class=file data-src=/cybersecurity/knowledge/tools/burp/intruder/>Burp Intruder.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/macro/ class=file data-src=/cybersecurity/knowledge/tools/burp/macro/>Burp Macros.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/repeater/ class=file data-src=/cybersecurity/knowledge/tools/burp/repeater/>Burp Repeater.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/sequencer/ class=file data-src=/cybersecurity/knowledge/tools/burp/sequencer/>Burp Sequencer.md</a></div><div class=item><a href=https://koscielniak.pro/cybersecurity/knowledge/tools/burp/configuration/ class=file data-src=/cybersecurity/knowledge/tools/burp/configuration/>Useful configuration settings.md</a></div></div></div><div class=page-end id=footer><div class=backlinks-container><h3>backlinks_</h3><ul class=backlinks><li><a href=/cybersecurity/knowledge/pentesting/recce/recce-with-browser/ data-ctx="Burp Proxy" data-src=/cybersecurity/knowledge/pentesting/recce/recce-with-browser class=internal-link>Recce with web browser</a></li><li><a href=/cybersecurity/knowledge/tools/burp// data-ctx=cybersecurity/knowledge/tools/burp/proxy data-src=/cybersecurity/knowledge/tools/burp/ class=internal-link>Burp Suite</a></li><li><a href=/cybersecurity/knowledge/tools/burp/intruder/ data-ctx=cybersecurity/knowledge/tools/burp/proxy data-src=/cybersecurity/knowledge/tools/burp/intruder class=internal-link>Burp Intruder</a></li><li><a href=/cybersecurity/knowledge/tools/burp/repeater/ data-ctx=cybersecurity/knowledge/tools/burp/proxy data-src=/cybersecurity/knowledge/tools/burp/repeater class=internal-link>Burp Repeater</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>knowledge graph_</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://koscielniak.pro/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>crafted by kkoscielniak. built using <a href=https://github.com/jackyzha0/quartz>quartz</a></p><ul><li><a href=https://koscielniak.pro>Home</a></li><li><a href=https://instagram.com/pankoscielniak>insta</a></li><li><a href=https://github.com/kkoscielniak>github</a></li></ul></footer></div></div></body></html>